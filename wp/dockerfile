# https://hub.docker.com/_/wordpress/
FROM wordpress:latest
# might want to look at php 8.1 and or apache + fixed version...

RUN apt-get update

# Push PHP configuration
# --chown=gedefili:gedefili ?
COPY php.conf.ini /usr/local/etc/php/conf.d/php.ini

# XDebug (thinking abouty using apt-get over pecl)
RUN pecl install xdebug && docker-php-ext-enable xdebug
COPY xdebug.conf.ini /usr/local/etc/php/conf.d/99-xdebug.ini

# Install Composer /  run this on host machine not dev wp container
#RUN curl -sS https://getcomposer.org/installer | php -- --check && \
#    export COMPOSER_MEMORY_LIMIT=-1 && \
#    composer self-update --1 && \
#    composer install --no-interaction --optimize-autoloader

# let repo pull version...
# after things are up, run tests causes phpunit to pull

# flow
#1 install wp cli?
#2 setup wp ?
#3 

# Bew Plugin:

# curl in wp client
# run scaffoldr...  or copy test files...
